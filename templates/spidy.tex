\documentclass[12pt,a4paper]{article}

% ---------- Engine-safe font setup ----------
\usepackage{iftex}
\ifPDFTeX
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{tgheros}
  \renewcommand{\familydefault}{\sfdefault}
\else
  \usepackage{fontspec}
  \defaultfontfeatures{Ligatures=TeX,Scale=MatchLowercase}
  \IfFontExistsTF{Inter}{\setmainfont{Inter}}{\setmainfont{TeX Gyre Heros}}
\fi

% ---------- Layout & micro-typography ----------
\usepackage[margin=1.8cm]{geometry}
\usepackage{microtype}
\usepackage{ragged2e}
\usepackage{enumitem}
\setlist[itemize]{nosep,left=1.4em,topsep=1pt,itemsep=3pt}
\setlength{\parskip}{3.0pt}
\setlength{\parindent}{0pt}
\linespread{1.05}

% ---------- Colors (Spider-Man accents only) ----------
\usepackage{xcolor}
\definecolor{spiderRed}{HTML}{E11D2E}
\definecolor{spiderBlue}{HTML}{0E7AFE}
\definecolor{text}{HTML}{111827}
\definecolor{muted}{HTML}{667085}
\definecolor{rule}{HTML}{CBD5E1}

% ---------- Hyperref ----------
\usepackage{hyperref}
\hypersetup{
  colorlinks=true, urlcolor=spiderBlue, linkcolor=spiderBlue,
  pdfauthor={<<PDF_AUTHOR>>}, pdftitle={<<PDF_TITLE>>},
  pdfsubject={<<PDF_SUBJECT>>}, pdfkeywords={<<PDF_KEYWORDS>>},
  pdfcreator={JSON->LaTeX Resume Pipeline}, pdfproducer={latexmk/xelatex}
}
\urlstyle{same}

% ---------- Headings (bold black; super compact separator) ----------
\usepackage{titlesec}
\usepackage{tikz}
\usetikzlibrary{calc}
\newcommand{\SectionRule}{%
  \vspace{-6pt}
  \begin{tikzpicture}[x=\linewidth,y=0.9pt]
    \draw[text!85!black, line width=0.8pt, line cap=round] (0,0) -- (1,0);
    \draw[spiderRed,  opacity=.45, line width=0.8pt, line cap=round] (0,0) -- (.18,0);
    \draw[spiderBlue, opacity=.35, line width=0.6pt, line cap=round] (0,-1.6) -- (.14,-1.6);
  \end{tikzpicture}%
  \vspace{-1pt}
}
\titleformat{\section}{\Large\bfseries\color{text}}{}{0pt}{}[\SectionRule]
\titlespacing*{\section}{0pt}{4pt}{0pt}

% ---------- FontAwesome optional (icons) ----------
\makeatletter
\IfFileExists{fontawesome5.sty}{\RequirePackage{fontawesome5}}{\newcommand{\faIcon}[1]{}}
\makeatother

% ---------- Skill chips ----------
\newcommand{\tagchip}[1]{%
  \tikz[baseline] \node[
    fill=spiderRed!8, text=spiderRed!95!black,
    rounded corners=2pt, inner xsep=4pt, inner ysep=1.6pt, anchor=base
  ]{\footnotesize #1};}

% ---------- Background (your positions/opacities) ----------
\usepackage{eso-pic}
\newcommand{\webOpacity}{0.18}
\newcommand{\iconsOpacity}{0.05}
\newcommand{\BackgroundIcons}{%
  \begin{tikzpicture}[remember picture,overlay]
    \node[text opacity=\iconsOpacity,anchor=center,text=spiderBlue!75!black]
      at ($(current page.center)+(-8.0,12.8)$) {\scalebox{7}{\faIcon{cogs}}};
    \node[text opacity=\iconsOpacity,anchor=center,text=spiderBlue!75!black]
      at ($(current page.center)+(-5.0,0.5)$) {\scalebox{6.5}{\faIcon{calculator}}};
    \node[text opacity=\iconsOpacity,anchor=center,text=spiderBlue!75!black]
      at ($(current page.center)+(6.0,6.8)$)  {\scalebox{6.5}{\faIcon{code}}};
    \node[text opacity=\iconsOpacity,anchor=center,text=spiderBlue!75!black]
      at ($(current page.center)+(6.0,-10.0)$) {\scalebox{7}{\faIcon{wrench}}};
  \end{tikzpicture}%
}
\newcommand{\webSize}{9.5cm}
\newcommand{\SpiderWebTR}{%
  \begin{tikzpicture}[remember picture,overlay]
    \begin{scope}
      \clip (current page.north west) rectangle (current page.south east);
      \begin{scope}[shift={($(current page.north east)+(-0.95cm,-0.95cm)$)}]
        \tikzset{webstrand/.style={spiderRed!60!black, line width=0.14pt, line cap=round, opacity=\webOpacity}}
        \tikzset{webring/.style={spiderRed!55!black, line width=0.16pt, line cap=round, opacity=\webOpacity}}
        \tikzset{webrim/.style={spiderRed!45!black, line width=0.18pt, line cap=round, opacity=\webOpacity}}
        \foreach \theta in {180,186,...,270}{ \draw[webstrand] (0,0) -- (\theta:\webSize+0.15cm); }
        \foreach \r in {0.70,1.15,1.60,2.05,2.50,2.95,3.40,3.90,4.40,4.95,5.55,6.20,6.90,7.60,8.35,9.15}{
          \draw[webring] (178.4:\r cm) arc[start angle=178.4, end angle=271.6, radius=\r cm];
        }
        \foreach \r in {1.4,3.1,5.1,7.3,9.0}{
          \draw[webrim] (180.8:\r cm) arc[start angle=180.8, end angle=269.2, radius=\r cm];
        }
      \end{scope}
    \end{scope}
  \end{tikzpicture}%
}
\AddToShipoutPictureBG*{\BackgroundIcons \SpiderWebTR}

% ---------- Footer build stamp ----------
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{} \renewcommand{\headrulewidth}{0pt} \renewcommand{\footrulewidth}{0pt}
\fancyfoot[C]{\footnotesize\textit{\color{muted}Build: <<BUILD_TIME>> IST \,\,|\,\, hash: <<BUILD_HASH>>}}
\setlength{\footskip}{13pt}

% ---------- Top underline ----------
\newcommand{\SplitUnderline}[2]{%
  \begin{tikzpicture}[baseline, x=\linewidth, y=1pt]
    \draw[line width=#2, color=text!90!black, line cap=round] (0,0) -- (1,0);
    \draw[line width=#2, color=spiderRed, opacity=.5, line cap=round] (0,0) -- (#1,0);
  \end{tikzpicture}%
}

% ---------- Header + education macros ----------
\newcommand{\NameFont}{\fontsize{23}{26}\selectfont\bfseries}
\newcommand{\ContactFont}{\normalsize}
\newcommand{\ExperienceEntry}[3]{%
  \noindent\begin{tabular*}{\linewidth}{@{}l@{\extracolsep{\fill}}r@{}}
    \textbf{#1} & {\small #3}\\[-2pt]
    \textit{#2} & \\
  \end{tabular*}\par
}
% Flush-left project block with optional tech line
\newcommand{\ProjectEntry}[3]{%
  \par\noindent\textbf{#1}\\
  #2%
  \if\relax\detokenize{#3}\relax\else\\\textcolor{muted}{#3}\fi
  \par\vspace{2pt}
}
\newcommand{\EducationEntry}[3]{%
  \noindent\textbf{#1} --- #2%
  \if\relax\detokenize{#3}\relax\else\\\textcolor{muted}{#3}\fi
  \par\vspace{2pt}
}

\begin{document}
\color{text}
\justifying

% ---------- Header ----------
\noindent
\begin{minipage}{0.60\linewidth}
  {\NameFont <<NAME>>}\\[-1pt]
  \small\textcolor{muted}{\textbf{Code + Mechanical = My Engineering Advantage}}
\end{minipage}%
\hfill
\begin{minipage}{0.38\linewidth}\raggedleft
  {\ContactFont <<CONTACT_BLOCK>>}
\end{minipage}

\vspace{3pt}
\SplitUnderline{0.86}{1.1pt}

% ===================== Body (single column) =====================
\section*{Summary}
\small <<SUMMARY>>

\section*{Skills}
\textbf{Engineering:} <<SK_ENGINEERING>> \\
\textbf{Software:} <<SK_SOFTWARE>> \\
\textbf{Electronics/IoT:} <<SK_EIOT>> \\
\textbf{CAD:} <<SK_CAD>> \\
\textbf{Analysis:} <<SK_ANALYSIS>> \\
\textbf{Soft Skills:} <<SK_SOFT>>

\vspace{2pt}
\small \textcolor{muted}{\tagchip{Robotics}\ \tagchip{Thermal Batteries}\ \tagchip{Automation}\ \tagchip{IoT}\ \tagchip{DevOps}}

\section*{Programming Languages}
<<LANG_PROG>>

\section*{Experience}
<<EXPERIENCE_BLOCK>>

\section*{Projects}
<<PROJECTS_BLOCK>>

\section*{Achievements}
\begin{itemize}
<<ACHIEVEMENTS_BLOCK>>
\end{itemize}

\section*{Education}
<<EDUCATION_BLOCK>>

\section*{Languages}
\textbf{Spoken:} <<LANG_SPOKEN>>

\section*{Roles of Interest}
<<ROLES_BLOCK>>

\end{document}
